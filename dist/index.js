'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _bluebird = require('bluebird');

var _bluebird2 = _interopRequireDefault(_bluebird);

var _web = require('web3');

var _web2 = _interopRequireDefault(_web);

var _mysql = require('mysql');

var _mysql2 = _interopRequireDefault(_mysql);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* babel-plugin-inline-import 'gittoken-contracts/build/contracts/GitToken.json' */var GitTokenContract = '{\n  "contract_name": "GitToken",\n  "abi": [\n    {\n      "constant": true,\n      "inputs": [\n        {\n          "name": "_rewardType",\n          "type": "string"\n        }\n      ],\n      "name": "getRewardDetails",\n      "outputs": [\n        {\n          "name": "",\n          "type": "uint256"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [],\n      "name": "name",\n      "outputs": [\n        {\n          "name": "",\n          "type": "string"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": false,\n      "inputs": [\n        {\n          "name": "_spender",\n          "type": "address"\n        },\n        {\n          "name": "_value",\n          "type": "uint256"\n        }\n      ],\n      "name": "approve",\n      "outputs": [],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [],\n      "name": "totalSupply",\n      "outputs": [\n        {\n          "name": "",\n          "type": "uint256"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [\n        {\n          "name": "_username",\n          "type": "string"\n        }\n      ],\n      "name": "getContributorAddress",\n      "outputs": [\n        {\n          "name": "",\n          "type": "address"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": false,\n      "inputs": [\n        {\n          "name": "_from",\n          "type": "address"\n        },\n        {\n          "name": "_to",\n          "type": "address"\n        },\n        {\n          "name": "_value",\n          "type": "uint256"\n        }\n      ],\n      "name": "transferFrom",\n      "outputs": [],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [],\n      "name": "organization",\n      "outputs": [\n        {\n          "name": "",\n          "type": "string"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [],\n      "name": "decimals",\n      "outputs": [\n        {\n          "name": "",\n          "type": "uint256"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [\n        {\n          "name": "_contributorAddress",\n          "type": "address"\n        }\n      ],\n      "name": "getContributorUsername",\n      "outputs": [\n        {\n          "name": "",\n          "type": "string"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": false,\n      "inputs": [\n        {\n          "name": "_rewardValue",\n          "type": "uint256"\n        },\n        {\n          "name": "_rewardType",\n          "type": "string"\n        }\n      ],\n      "name": "setRewardValue",\n      "outputs": [\n        {\n          "name": "",\n          "type": "bool"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [\n        {\n          "name": "",\n          "type": "address"\n        }\n      ],\n      "name": "owner",\n      "outputs": [\n        {\n          "name": "",\n          "type": "bool"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": false,\n      "inputs": [\n        {\n          "name": "_username",\n          "type": "string"\n        },\n        {\n          "name": "_rewardType",\n          "type": "string"\n        },\n        {\n          "name": "_rewardBonus",\n          "type": "uint256"\n        },\n        {\n          "name": "_reservedValue",\n          "type": "uint256"\n        },\n        {\n          "name": "_deliveryID",\n          "type": "string"\n        }\n      ],\n      "name": "rewardContributor",\n      "outputs": [\n        {\n          "name": "",\n          "type": "bool"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [\n        {\n          "name": "_contributor",\n          "type": "address"\n        }\n      ],\n      "name": "balanceOf",\n      "outputs": [\n        {\n          "name": "",\n          "type": "uint256"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [\n        {\n          "name": "_username",\n          "type": "string"\n        }\n      ],\n      "name": "getUnclaimedRewards",\n      "outputs": [\n        {\n          "name": "",\n          "type": "uint256"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [],\n      "name": "symbol",\n      "outputs": [\n        {\n          "name": "",\n          "type": "string"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": false,\n      "inputs": [\n        {\n          "name": "_to",\n          "type": "address"\n        },\n        {\n          "name": "_value",\n          "type": "uint256"\n        }\n      ],\n      "name": "transfer",\n      "outputs": [\n        {\n          "name": "",\n          "type": "bool"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": false,\n      "inputs": [\n        {\n          "name": "_username",\n          "type": "string"\n        },\n        {\n          "name": "_code",\n          "type": "bytes"\n        }\n      ],\n      "name": "setContributor",\n      "outputs": [\n        {\n          "name": "",\n          "type": "bool"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": false,\n      "inputs": [\n        {\n          "name": "_contributor",\n          "type": "address"\n        },\n        {\n          "name": "_username",\n          "type": "string"\n        }\n      ],\n      "name": "verifyContributor",\n      "outputs": [\n        {\n          "name": "",\n          "type": "bool"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": true,\n      "inputs": [\n        {\n          "name": "_owner",\n          "type": "address"\n        },\n        {\n          "name": "_spender",\n          "type": "address"\n        }\n      ],\n      "name": "allowance",\n      "outputs": [\n        {\n          "name": "",\n          "type": "uint256"\n        }\n      ],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "constant": false,\n      "inputs": [\n        {\n          "name": "newOwner",\n          "type": "address"\n        }\n      ],\n      "name": "transferOwnership",\n      "outputs": [],\n      "payable": false,\n      "type": "function"\n    },\n    {\n      "inputs": [\n        {\n          "name": "_contributor",\n          "type": "address"\n        },\n        {\n          "name": "_name",\n          "type": "string"\n        },\n        {\n          "name": "_username",\n          "type": "string"\n        },\n        {\n          "name": "_organization",\n          "type": "string"\n        },\n        {\n          "name": "_symbol",\n          "type": "string"\n        },\n        {\n          "name": "_decimals",\n          "type": "uint256"\n        }\n      ],\n      "payable": false,\n      "type": "constructor"\n    },\n    {\n      "anonymous": false,\n      "inputs": [\n        {\n          "indexed": true,\n          "name": "owner",\n          "type": "address"\n        },\n        {\n          "indexed": true,\n          "name": "spender",\n          "type": "address"\n        },\n        {\n          "indexed": false,\n          "name": "value",\n          "type": "uint256"\n        }\n      ],\n      "name": "Approval",\n      "type": "event"\n    },\n    {\n      "anonymous": false,\n      "inputs": [\n        {\n          "indexed": true,\n          "name": "from",\n          "type": "address"\n        },\n        {\n          "indexed": true,\n          "name": "to",\n          "type": "address"\n        },\n        {\n          "indexed": false,\n          "name": "value",\n          "type": "uint256"\n        }\n      ],\n      "name": "Transfer",\n      "type": "event"\n    },\n    {\n      "anonymous": false,\n      "inputs": [\n        {\n          "indexed": true,\n          "name": "contributor",\n          "type": "address"\n        },\n        {\n          "indexed": false,\n          "name": "username",\n          "type": "string"\n        },\n        {\n          "indexed": false,\n          "name": "value",\n          "type": "uint256"\n        },\n        {\n          "indexed": false,\n          "name": "reservedValue",\n          "type": "uint256"\n        },\n        {\n          "indexed": false,\n          "name": "date",\n          "type": "uint256"\n        },\n        {\n          "indexed": false,\n          "name": "rewardType",\n          "type": "string"\n        }\n      ],\n      "name": "Contribution",\n      "type": "event"\n    },\n    {\n      "anonymous": false,\n      "inputs": [\n        {\n          "indexed": true,\n          "name": "contributor",\n          "type": "address"\n        },\n        {\n          "indexed": false,\n          "name": "username",\n          "type": "string"\n        },\n        {\n          "indexed": false,\n          "name": "date",\n          "type": "uint256"\n        }\n      ],\n      "name": "ContributorVerified",\n      "type": "event"\n    }\n  ],\n  "unlinked_binary": "0x606060405234156200000d57fe5b60405162002b8c38038062002b8c83398101604090815281516020830151918301516060840151608085015160a0860151939594850194928301939183019201905b5b600160a060020a0333166000908152602081905260409020805460ff191660011790555b600160a060020a03861615620000a857600160a060020a0386166000908152602081905260409020805460ff191660011790555b60006001558451620000c290600390602088019062000c12565b508251620000d890600490602086019062000c12565b508151620000ee90600590602085019062000c12565b506002819055600160a060020a033316600090815260076020908152604090912085516200011f9287019062000c12565b50600160a060020a038616600090815260076020908152604090912085516200014b9287019062000c12565b50856001600701856040518082805190602001908083835b60208310620001845780518252601f19909201916020918201910162000163565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060006101000a815481600160a060020a030219169083600160a060020a0316021790555080600a0a6109c402600160050160405180807f70696e6700000000000000000000000000000000000000000000000000000000815250600401905090815260200160405180910390208190555080600a0a60fa02600160050160405180807f636f6d6d69745f636f6d6d656e74000000000000000000000000000000000000815250600e01905090815260200160405180910390208190555080600a0a6109c402600160050160405180807f6372656174650000000000000000000000000000000000000000000000000000815250600601905090815260200160405180910390208190555080600a0a600002600160050160405180807f64656c6574650000000000000000000000000000000000000000000000000000815250600601905090815260200160405180910390208190555080600a0a61138802600160050160405180807f6465706c6f796d656e7400000000000000000000000000000000000000000000815250600a01905090815260200160405180910390208190555080600a0a606402600160050160405180807f6465706c6f796d656e745f737461747573000000000000000000000000000000815250601101905090815260200160405180910390208190555080600a0a61138802600160050160405180807f666f726b00000000000000000000000000000000000000000000000000000000815250600401905090815260200160405180910390208190555080600a0a606402600160050160405180807f676f6c6c756d0000000000000000000000000000000000000000000000000000815250600601905090815260200160405180910390208190555080600a0a60fa02600160050160405180807f696e7374616c6c6174696f6e0000000000000000000000000000000000000000815250600c01905090815260200160405180910390208190555080600a0a6103e802600160050160405180807f696e7374616c6c6174696f6e5f7265706f7369746f7269657300000000000000815250601901905090815260200160405180910390208190555080600a0a60fa02600160050160405180807f69737375655f636f6d6d656e7400000000000000000000000000000000000000815250600d01905090815260200160405180910390208190555080600a0a6101f402600160050160405180807f6973737565730000000000000000000000000000000000000000000000000000815250600601905090815260200160405180910390208190555080600a0a606402600160050160405180807f6c6162656c000000000000000000000000000000000000000000000000000000815250600501905090815260200160405180910390208190555080600a0a600002600160050160405180807f6d61726b6574706c6163655f7075726368617365730000000000000000000000815250601501905090815260200160405180910390208190555080600a0a6103e802600160050160405180807f6d656d6265720000000000000000000000000000000000000000000000000000815250600601905090815260200160405180910390208190555080600a0a6103e802600160050160405180807f6d656d6265727368697000000000000000000000000000000000000000000000815250600a01905090815260200160405180910390208190555080600a0a60fa02600160050160405180807f6d696c6573746f6e650000000000000000000000000000000000000000000000815250600901905090815260200160405180910390208190555080600a0a6103e802600160050160405180807f6f7267616e697a6174696f6e0000000000000000000000000000000000000000815250600c01905090815260200160405180910390208190555080600a0a600002600160050160405180807f6f72675f626c6f636b0000000000000000000000000000000000000000000000815250600901905090815260200160405180910390208190555080600a0a6101f402600160050160405180807f706167655f6275696c6400000000000000000000000000000000000000000000815250600a01905090815260200160405180910390208190555080600a0a60fa02600160050160405180807f70726f6a6563745f636172640000000000000000000000000000000000000000815250600c01905090815260200160405180910390208190555080600a0a603202600160050160405180807f70726f6a6563745f636f6c756d6e000000000000000000000000000000000000815250600e01905090815260200160405180910390208190555080600a0a6103e802600160050160405180807f70726f6a65637400000000000000000000000000000000000000000000000000815250600701905090815260200160405180910390208190555080600a0a61271002600160050160405180807f7075626c69630000000000000000000000000000000000000000000000000000815250600601905090815260200160405180910390208190555080600a0a60fa02600160050160405180807f70756c6c5f726571756573745f7265766965775f636f6d6d656e740000000000815250601b01905090815260200160405180910390208190555080600a0a60fa02600160050160405180807f70756c6c5f726571756573745f72657669657700000000000000000000000000815250601301905090815260200160405180910390208190555080600a0a6109c402600160050160405180807f70756c6c5f726571756573740000000000000000000000000000000000000000815250600c01905090815260200160405180910390208190555080600a0a6103e802600160050160405180807f7075736800000000000000000000000000000000000000000000000000000000815250600401905090815260200160405180910390208190555080600a0a6109c402600160050160405180807f7265706f7369746f727900000000000000000000000000000000000000000000815250600a01905090815260200160405180910390208190555080600a0a61138802600160050160405180807f72656c6561736500000000000000000000000000000000000000000000000000815250600701905090815260200160405180910390208190555080600a0a60c802600160050160405180807f7374617475730000000000000000000000000000000000000000000000000000815250600601905090815260200160405180910390208190555080600a0a6107d002600160050160405180807f7465616d00000000000000000000000000000000000000000000000000000000815250600401905090815260200160405180910390208190555080600a0a6107d002600160050160405180807f7465616d5f616464000000000000000000000000000000000000000000000000815250600801905090815260200160405180910390208190555080600a0a606402600160050160405180807f776174636800000000000000000000000000000000000000000000000000000081525060050190509081526020016040518091039020819055505b50505050505062000cbc565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1062000c5557805160ff191683800117855562000c85565b8280016001018555821562000c85579182015b8281111562000c8557825182559160200191906001019062000c68565b5b5062000c9492915062000c98565b5090565b62000cb991905b8082111562000c94576000815560010162000c9f565b5090565b90565b611ec08062000ccc6000396000f300606060405236156100f65763ffffffff60e060020a600035041663025dabae81146100f857806306fdde0314610160578063095ea7b3146101f057806318160ddd146102115780631e923ded1461023357806323b872dd146102a557806323bd4d7a146102cc578063313ce5671461035c57806355ded44d1461037e57806366253c441461041a578063666e1b39146104855780636a84ef23146104b557806370a08231146105a357806376500a7e146105d157806395d89b4114610639578063a9059cbb146106c9578063b0cd70fd146106fc578063d85600ca146107a3578063dd62ed3e14610817578063f2fde38b1461084b575bfe5b341561010057fe5b61014e600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284375094965061086995505050505050565b60408051918252519081900360200190f35b341561016857fe5b6101706108d6565b6040805160208082528351818301528351919283929083019185019080838382156101b6575b8051825260208311156101b657601f199092019160209182019101610196565b505050905090810190601f1680156101e25780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156101f857fe5b61020f600160a060020a036004351660243561096f565b005b341561021957fe5b61014e610a25565b60408051918252519081900360200190f35b341561023b57fe5b610289600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843750949650610a2c95505050505050565b60408051600160a060020a039092168252519081900360200190f35b34156102ad57fe5b61020f600160a060020a0360043581169060243516604435610aa2565b005b34156102d457fe5b610170610b14565b6040805160208082528351818301528351919283929083019185019080838382156101b6575b8051825260208311156101b657601f199092019160209182019101610196565b505050905090810190601f1680156101e25780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561036457fe5b61014e610bad565b60408051918252519081900360200190f35b341561038657fe5b610170600160a060020a0360043516610bb4565b6040805160208082528351818301528351919283929083019185019080838382156101b6575b8051825260208311156101b657601f199092019160209182019101610196565b505050905090810190601f1680156101e25780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561042257fe5b60408051602060046024803582810135601f81018590048502860185019096528585526104719583359593946044949392909201918190840183828082843750949650610c6695505050505050565b604080519115158252519081900360200190f35b341561048d57fe5b610471600160a060020a0360043516610d01565b604080519115158252519081900360200190f35b34156104bd57fe5b610471600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284375050604080516020601f89358b0180359182018390048302840183019094528083529799988101979196509182019450925082915084018382808284375050604080516020888301358a018035601f810183900483028401830190945283835297998935998083013599919850606001965091945090810192508190840183828082843750949650610d1695505050505050565b604080519115158252519081900360200190f35b34156105ab57fe5b61014e600160a060020a0360043516610f8d565b60408051918252519081900360200190f35b34156105d957fe5b61014e600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843750949650610fac95505050505050565b60408051918252519081900360200190f35b341561064157fe5b610170611019565b6040805160208082528351818301528351919283929083019185019080838382156101b6575b8051825260208311156101b657601f199092019160209182019101610196565b505050905090810190601f1680156101e25780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156106d157fe5b610471600160a060020a03600435166024356110b2565b604080519115158252519081900360200190f35b341561070457fe5b610471600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284375050604080516020601f89358b0180359182018390048302840183019094528083529799988101979196509182019450925082915084018382808284375094965061112695505050505050565b604080519115158252519081900360200190f35b34156107ab57fe5b60408051602060046024803582810135601f8101859004850286018501909652858552610471958335600160a060020a0316959394604494939290920191819084018382808284375094965061115595505050505050565b604080519115158252519081900360200190f35b341561081f57fe5b61014e600160a060020a0360043581169060243516611263565b60408051918252519081900360200190f35b341561085357fe5b61020f600160a060020a0360043516611290565b005b60006001600501826040518082805190602001908083835b602083106108a05780518252601f199092019160209182019101610881565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922054925050505b919050565b6108de611dc2565b6003805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156109645780601f1061093957610100808354040283529160200191610964565b820191906000526020600020905b81548152906001019060200180831161094757829003601f168201915b505050505090505b90565b604060443610156109805760006000fd5b6000821180156109b55750600160a060020a033381166000908152600960209081526040808320938716835292905290812054115b156109c05760006000fd5b600160a060020a03338116600081815260096020908152604080832094881680845294825291829020869055815186815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a35b5b5b505050565b6001545b90565b60006001600701826040518082805190602001908083835b60208310610a635780518252601f199092019160209182019101610a44565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922054600160a060020a0316925050505b919050565b60606064361015610ab35760006000fd5b610ac6600185858563ffffffff61131716565b1515610ad25760006000fd5b82600160a060020a031684600160a060020a0316600080516020611e75833981519152846040518082815260200191505060405180910390a35b5b5b50505050565b610b1c611dc2565b6004805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156109645780601f1061093957610100808354040283529160200191610964565b820191906000526020600020905b81548152906001019060200180831161094757829003601f168201915b505050505090505b90565b6002545b90565b610bbc611dc2565b600160a060020a03821660009081526007602090815260409182902080548351601f600260001961010060018616150201909316929092049182018490048402810184019094528084529091830182828015610c595780601f10610c2e57610100808354040283529160200191610c59565b820191906000526020600020905b815481529060010190602001808311610c3c57829003601f168201915b505050505090505b919050565b600160a060020a03331660009081526020819052604081205460ff161515610c8e5760006000fd5b826001600501836040518082805190602001908083835b60208310610cc45780518252601f199092019160209182019101610ca5565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220929092555060019150505b5b92915050565b60006020819052908152604090205460ff1681565b600160a060020a0333166000908152602081905260408120548190819060ff161515610d425760006000fd5b610d576001898989898963ffffffff6113fc16565b1515610d635760006000fd5b6001600701886040518082805190602001908083835b60208310610d985780518252601f199092019160209182019101610d79565b51815160209384036101000a60001901801990921691161790529201948552506040519384900381018420548b51600160a060020a039091169650610e3f948b9450600693508c92909182918401908083835b60208310610e0a5780518252601f199092019160209182019101610deb565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092205492915050611786565b905081600160a060020a03167f270e8b0620bd7a85855d0ae9401e7fa30ea6319fbf06c05f38cad80875f1cc01898388428c604051808060200186815260200185815260200184815260200180602001838103835288818151815260200191508051906020019080838360008314610ed2575b805182526020831115610ed257601f199092019160209182019101610eb2565b505050905090810190601f168015610efe5780820380516001836020036101000a031916815260200191505b5083810382528451815284516020918201918601908083838215610f3d575b805182526020831115610f3d57601f199092019160209182019101610f1d565b505050905090810190601f168015610f695780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390a2600192505b5b5b505095945050505050565b600160a060020a0381166000908152600a60205260409020545b919050565b60006001600a01826040518082805190602001908083835b602083106108a05780518252601f199092019160209182019101610881565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922054925050505b919050565b611021611dc2565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156109645780601f1061093957610100808354040283529160200191610964565b820191906000526020600020905b81548152906001019060200180831161094757829003601f168201915b505050505090505b90565b6000604060443610156110c55760006000fd5b6110d76001858563ffffffff6117a216565b15156110e35760006000fd5b83600160a060020a031633600160a060020a0316600080516020611e75833981519152856040518082815260200191505060405180910390a35b5b5b5092915050565b600061113a6001848463ffffffff61182a16565b15156111465760006000fd5b506001610cfa565b5b92915050565b600160a060020a03331660009081526020819052604081205460ff16151561117d5760006000fd5b61118f6001848463ffffffff611b3c16565b151561119b5760006000fd5b82600160a060020a03167fce96c271d8db9db4a90e538f30d7ec5a63f116893c4636688d9ce1502b5cc93683426040518080602001838152602001828103825284818151815260200191508051906020019080838360008314611219575b80518252602083111561121957601f1990920191602091820191016111f9565b505050905090810190601f1680156112455780820380516001836020036101000a031916815260200191505b50935050505060405180910390a2506001610cfa565b5b5b92915050565b600160a060020a038083166000908152600960209081526040808320938516835292905220545b92915050565b600160a060020a03331660009081526020819052604090205460ff1615156112b85760006000fd5b600160a060020a03811660009081526020819052604090205460ff16151561131257600160a060020a03808216600090815260208190526040808220805460ff199081166001179091553390931682529020805490911690555b5b5b50565b600160a060020a038084166000908152600886016020908152604080832033909416835292905290812054611352818463ffffffff611d9816565b600160a060020a03808716600090815260088901602090815260408083203385168452825280832094909455918716815260098901909152205461139c908463ffffffff61178616565b600160a060020a03808616600090815260098901602052604080822093909355908716815220546113d3908463ffffffff611d9816565b600160a060020a0386166000908152600988016020526040902055600191505b50949350505050565b60006000600061146f868a600501896040518082805190602001908083835b60208310610e0a5780518252601f199092019160209182019101610deb565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092205492915050611786565b915088600701886040518082805190602001908083835b602083106114a55780518252601f199092019160209182019101611486565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922054600160a060020a0316925050508115156114eb5760006000fd5b88600c01846040518082805190602001908083835b6020831061151f5780518252601f199092019160209182019101611500565b51815160001960209485036101000a0190811690199190911617905292019485525060405193849003019092205460ff16151560011415915061156490505760006000fd5b885461158890869061157c908563ffffffff61178616565b9063ffffffff61178616565b8955600160a060020a033016600090815260098a0160205260409020546115b5908663ffffffff61178616565b600160a060020a03308116600090815260098c016020526040902091909155811615156116b457611649828a600a018a6040518082805190602001908083835b60208310610e0a5780518252601f199092019160209182019101610deb565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092205492915050611786565b89600a01896040518082805190602001908083835b6020831061167d5780518252601f19909201916020918201910161165e565b51815160209384036101000a6000190180199092169116179052920194855250604051938490030190922092909255506116fb9050565b600160a060020a038116600090815260098a0160205260409020546116df908363ffffffff61178616565b600160a060020a038216600090815260098b0160205260409020555b600189600c01856040518082805190602001908083835b602083106117315780518252601f199092019160209182019101611712565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220805460ff19169315159390931790925550600193506117789050565b5b5b50509695505050505050565b600082820161179784821015611db1565b8091505b5092915050565b600160a060020a03331660009081526009840160205260408120546117cd908363ffffffff611d9816565b600160a060020a0333811660009081526009870160205260408082209390935590851681522054611804908363ffffffff61178616565b600160a060020a03841660009081526009860160205260409020555060015b9392505050565b6000816040518082805190602001908083835b6020831061185c5780518252601f19909201916020918201910161183d565b51815160209384036101000a60001901801990921691161790526040519190930181900381208851909550600b8a019450889391925082918401908083835b602083106118ba5780518252601f19909201916020918201910161189b565b51815160209384036101000a60001901801990921691161790529201948552506040519384900301909220549290921491506118f890505760006000fd5b600084600a01846040518082805190602001908083835b6020831061192e5780518252601f19909201916020918201910161190f565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020541115611a83576119f084600a01846040518082805190602001908083835b6020831061199f5780518252601f199092019160209182019101611980565b51815160209384036101000a6000190180199092169116179052920194855250604080519485900382019094205433600160a060020a0316600090815260098b019092529390205492915050611786565b84600901600033600160a060020a0316600160a060020a0316815260200190815260200160002081905550600084600a01846040518082805190602001908083835b60208310611a515780518252601f199092019160209182019101611a32565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092209290925550505b600160a060020a033316600090815260068501602090815260409091208451611aae92860190611dd4565b503384600701846040518082805190602001908083835b60208310611ae45780518252601f199092019160209182019101611ac5565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092208054600160a060020a031916600160a060020a0394909416939093179092555060019150505b9392505050565b6000600160a060020a0383161515611b545760006000fd5b600084600a01836040518082805190602001908083835b60208310611b8a5780518252601f199092019160209182019101611b6b565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020541115611cdf57611c4c84600a01836040518082805190602001908083835b60208310611bfb5780518252601f199092019160209182019101611bdc565b51815160209384036101000a60001901801990921691161790529201948552506040805194859003820190942054600160a060020a038916600090815260098b019092529390205492915050611786565b84600901600085600160a060020a0316600160a060020a0316815260200190815260200160002081905550600084600a01836040518082805190602001908083835b60208310611cad5780518252601f199092019160209182019101611c8e565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092209290925550505b600160a060020a038316600090815260068501602090815260409091208351611d0a92850190611dd4565b508284600701836040518082805190602001908083835b60208310611ae45780518252601f199092019160209182019101611ac5565b51815160209384036101000a600019018019909216911617905292019485525060405193849003019092208054600160a060020a031916600160a060020a0394909416939093179092555060019150505b9392505050565b6000611da683831115611db1565b508082035b92915050565b8015156113125760006000fd5b5b50565b60408051602081019091526000815290565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611e1557805160ff1916838001178555611e42565b82800160010185558215611e42579182015b82811115611e42578251825591602001919060010190611e27565b5b50611e4f929150611e53565b5090565b61096c91905b80821115611e4f5760008155600101611e59565b5090565b905600ddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3efa165627a7a723058200fa021a7af77382ea547ad7c4f12eeb2ffce13d4f4f04ba25f3de37e8754f6ee0029",\n  "networks": {\n    "17": {\n      "links": {},\n      "events": {\n        "0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925": {\n          "anonymous": false,\n          "inputs": [\n            {\n              "indexed": true,\n              "name": "owner",\n              "type": "address"\n            },\n            {\n              "indexed": true,\n              "name": "spender",\n              "type": "address"\n            },\n            {\n              "indexed": false,\n              "name": "value",\n              "type": "uint256"\n            }\n          ],\n          "name": "Approval",\n          "type": "event"\n        },\n        "0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef": {\n          "anonymous": false,\n          "inputs": [\n            {\n              "indexed": true,\n              "name": "from",\n              "type": "address"\n            },\n            {\n              "indexed": true,\n              "name": "to",\n              "type": "address"\n            },\n            {\n              "indexed": false,\n              "name": "value",\n              "type": "uint256"\n            }\n          ],\n          "name": "Transfer",\n          "type": "event"\n        },\n        "0xc3b4f845790d6659bd38fdced442a58d1b56a46a7052115d0e3c9e017adf4921": {\n          "anonymous": false,\n          "inputs": [\n            {\n              "indexed": true,\n              "name": "contributor",\n              "type": "address"\n            },\n            {\n              "indexed": false,\n              "name": "username",\n              "type": "string"\n            },\n            {\n              "indexed": false,\n              "name": "value",\n              "type": "uint256"\n            },\n            {\n              "indexed": false,\n              "name": "date",\n              "type": "uint256"\n            },\n            {\n              "indexed": false,\n              "name": "rewardType",\n              "type": "string"\n            }\n          ],\n          "name": "Contribution",\n          "type": "event"\n        },\n        "0xce96c271d8db9db4a90e538f30d7ec5a63f116893c4636688d9ce1502b5cc936": {\n          "anonymous": false,\n          "inputs": [\n            {\n              "indexed": true,\n              "name": "contributor",\n              "type": "address"\n            },\n            {\n              "indexed": false,\n              "name": "username",\n              "type": "string"\n            },\n            {\n              "indexed": false,\n              "name": "date",\n              "type": "uint256"\n            }\n          ],\n          "name": "ContributorVerified",\n          "type": "event"\n        },\n        "0xeb1d29659fe1e458a59d47ceab90b84b14e2eb79da4602088f9e9a8bcc228ca4": {\n          "anonymous": false,\n          "inputs": [\n            {\n              "indexed": true,\n              "name": "contributor",\n              "type": "address"\n            },\n            {\n              "indexed": false,\n              "name": "value",\n              "type": "uint256"\n            },\n            {\n              "indexed": false,\n              "name": "date",\n              "type": "uint256"\n            },\n            {\n              "indexed": false,\n              "name": "rewardType",\n              "type": "string"\n            }\n          ],\n          "name": "Contribution",\n          "type": "event"\n        },\n        "0x270e8b0620bd7a85855d0ae9401e7fa30ea6319fbf06c05f38cad80875f1cc01": {\n          "anonymous": false,\n          "inputs": [\n            {\n              "indexed": true,\n              "name": "contributor",\n              "type": "address"\n            },\n            {\n              "indexed": false,\n              "name": "username",\n              "type": "string"\n            },\n            {\n              "indexed": false,\n              "name": "value",\n              "type": "uint256"\n            },\n            {\n              "indexed": false,\n              "name": "reservedValue",\n              "type": "uint256"\n            },\n            {\n              "indexed": false,\n              "name": "date",\n              "type": "uint256"\n            },\n            {\n              "indexed": false,\n              "name": "rewardType",\n              "type": "string"\n            }\n          ],\n          "name": "Contribution",\n          "type": "event"\n        }\n      },\n      "updated_at": 1501275952066\n    }\n  },\n  "schema_version": "0.0.5",\n  "updated_at": 1501275952066\n}';

var _JSON$parse = JSON.parse(GitTokenContract),
    abi = _JSON$parse.abi;

var GitTokenAnalytics = function () {
  /**
   * GitToken Analytics Constructor Options
   * @param  {Object} options { mysql: { ...} }
   */
  function GitTokenAnalytics(options) {
    _classCallCheck(this, GitTokenAnalytics);

    this.listen();
    var web3Provider = options.web3Provider,
        mysqlOpts = options.mysqlOpts,
        contractAddress = options.contractAddress;

    if (web3Provider && mysqlOpts && contractAddress && abi) {
      this.configure({ web3Provider: web3Provider, mysqlOpts: mysqlOpts, contractAddress: contractAddress, abi: abi }).then(function (configured) {
        console.log('GitToken Analytics Processor Configured');
        console.log(JSON.stringify(configured, null, 2));
      });
    } else {
      console.log('GitToken Analytics Processor listening for \'configure\' event.');
    }
  }

  _createClass(GitTokenAnalytics, [{
    key: 'configure',
    value: function configure(_ref) {
      var _this = this;

      var web3Provider = _ref.web3Provider,
          mysqlOpts = _ref.mysqlOpts,
          contractAddress = _ref.contractAddress,
          abi = _ref.abi;

      return new _bluebird2.default(function (resolve, reject) {
        _this.establishMySqlConnection({ mysqlOpts: mysqlOpts }).then(function () {
          return _this.configureWeb3Provider({ web3Provider: web3Provider });
        }).then(function () {
          return _this.configureContract({ abi: abi, contractAddress: contractAddress });
        }).then(function () {
          return _this.getContractDetails();
        }).then(function () {
          _this.watchContributionEvents();
          return null;
        }).then(function () {
          resolve({
            contractDetails: _this.contractDetails
          });
        }).catch(function (error) {
          _this.handleError({ error: error, method: 'configure' });
        });
      });
    }
  }, {
    key: 'establishMySqlConnection',
    value: function establishMySqlConnection(_ref2) {
      var _this2 = this;

      var mysqlOpts = _ref2.mysqlOpts;

      return new _bluebird2.default(function (resolve, reject) {
        try {
          _this2.mysql = _mysql2.default.createConnection(_extends({}, mysqlOpts));
          _this2.mysql.connect();
          resolve({ mysql: _this2.mysql });
        } catch (error) {
          _this2.handleError({ error: error, method: 'establishMySqlConnection' });
        }
      });
    }
  }, {
    key: 'query',
    value: function query(_ref3) {
      var _this3 = this;

      var queryString = _ref3.queryString,
          _ref3$queryObject = _ref3.queryObject,
          queryObject = _ref3$queryObject === undefined ? [] : _ref3$queryObject;

      return new _bluebird2.default(function (resolve, reject) {
        /* TODO: Check mysql docs for second param (queryObject) */
        _this3.mysql.query(queryString, function (error, result) {
          if (error) {
            _this3.handleError({ error: error, method: 'query' });
          }
          resolve(result);
        });
      });
    }
  }, {
    key: 'configureWeb3Provider',
    value: function configureWeb3Provider(_ref4) {
      var _this4 = this;

      var web3Provider = _ref4.web3Provider;

      return new _bluebird2.default(function (resolve, reject) {
        try {
          console.log('web3Provider', web3Provider);
          _this4.web3 = new _web2.default(new _web2.default.providers.HttpProvider(web3Provider));
          _this4.eth = (0, _bluebird.promisifyAll)(_this4.web3.eth);
          resolve({ web3: _this4.web3, eth: _this4.eth });
        } catch (error) {
          _this4.handleError({ error: error, method: 'configureWeb3Provider' });
        }
      });
    }
  }, {
    key: 'configureContract',
    value: function configureContract(_ref5) {
      var _this5 = this;

      var abi = _ref5.abi,
          contractAddress = _ref5.contractAddress;

      return new _bluebird2.default(function (resolve, reject) {
        _this5.contract = _this5.web3.eth.contract(abi).at(contractAddress);
        _bluebird2.default.resolve(Object.keys(_this5.contract)).map(function (method) {
          if (_this5.contract[method] && _this5.contract[method]['request']) {
            _this5.contract[method] = (0, _bluebird.promisifyAll)(_this5.contract[method]);
          }
        }).then(function () {
          resolve(_this5.contract);
        }).catch(function (error) {
          _this5.handleError({ error: error, method: 'configureContract' });
        });
      });
    }
  }, {
    key: 'watchContributionEvents',
    value: function watchContributionEvents() {
      var _this6 = this;

      var events = this.contract.Contribution({}, { fromBlock: 0, toBlock: 'latest' });

      events.watch(function (error, result) {
        if (error) {
          _this6.handleError({ error: error, method: 'watchContributionEvents' });
        }
        _this6.saveContributionEvent({ event: result }).then(function (contribution) {
          process.send(JSON.stringify({
            event: 'new_contribution',
            data: contribution,
            message: 'New contribution received and saved.'
          }));
          return (0, _bluebird.join)(_this6.updateLeaderboard({ contribution: contribution }), _this6.updateTotalSupply({ contribution: contribution }), _this6.updateContributionFrequency({ contribution: contribution }));
        }).then(function (data) {
          console.log('data', data);
        });
      });
    }
  }, {
    key: 'updateContributionFrequency',
    value: function updateContributionFrequency(_ref6) {
      var _this7 = this;

      var contribution = _ref6.contribution;

      return new _bluebird2.default(function (resolve, reject) {
        _this7.query({ queryString: '\n        CREATE TABLE IF NOT EXISTS contribution_frequency (\n          rewardType     CHARACTER(66) PRIMARY KEY,\n          count          BIGINT NOT NULL DEFAULT 0,\n          percentOfTotal REAL\n        );\n      ' }).then(function () {
          return _this7.query({
            queryString: '\n            INSERT INTO contribution_frequency (\n              rewardType,\n              count,\n              percentOfTotal\n            ) SELECT rewardType, count(rewardType), count(rewardType)/(SELECT count(*)*1.0 FROM contributions)*100.0 FROM contributions GROUP BY rewardType\n            ON DUPLICATE KEY UPDATE\n            rewardType=VALUES(rewardType),\n            count=VALUES(count),\n            percentOfTotal=VALUES(percentOfTotal);\n          '
          });
        }).then(function () {
          return _this7.query({
            queryString: '\n            SELECT * FROM contribution_frequency;\n          '
          });
        }).then(function (contributionFrequency) {
          resolve(contributionFrequency);
        }).catch(function (error) {
          reject(error);
        });
      });
    }
  }, {
    key: 'updateTotalSupply',
    value: function updateTotalSupply(_ref7) {
      var _this8 = this;

      var contribution = _ref7.contribution;

      return new _bluebird2.default(function (resolve, reject) {
        var date = contribution.date;

        _this8.query({
          queryString: '\n          CREATE TABLE IF NOT EXISTS total_supply (\n            totalSupply    BIGINT NOT NULL DEFAULT 0,\n            date           BIGINT NOT NULL DEFAULT 0 PRIMARY KEY\n          );\n        '
        }).then(function () {
          return _this8.query({
            queryString: '\n            INSERT INTO total_supply (\n              totalSupply,\n              date\n            ) VALUES (\n              (SELECT (sum(value)+sum(reservedValue)) FROM contributions WHERE date <= ' + date + '),\n              ' + date + '\n            ) ;\n          '
          });
        }).then(function () {
          return _this8.query({
            queryString: '\n            SELECT * FROM total_supply ORDER BY date DESC LIMIT 1;\n          '
          });
        }).then(function (totalSupply) {
          resolve(totalSupply[0]);
        }).catch(function (error) {
          _this8.handleError({ error: error });
        });
      });
    }
  }, {
    key: 'updateLeaderboard',
    value: function updateLeaderboard(_ref8) {
      var _this9 = this;

      var contribution = _ref8.contribution;

      return new _bluebird2.default(function (resolve, reject) {
        var username = contribution.username,
            contributor = contribution.contributor;

        _this9.query({ queryString: '\n        CREATE TABLE IF NOT EXISTS leaderboard (\n          username             CHARACTER(42) PRIMARY KEY,\n          contributorAddress   CHARACTER(42),\n          value                BIGINT NOT NULL DEFAULT 0,\n          latestContribution   BIGINT NOT NULL DEFAULT 0,\n          numContributions     BIGINT NOT NULL DEFAULT 0,\n          valuePerContribution REAL\n        );\n      ' }).then(function () {
          return _this9.query({ queryString: '\n            INSERT INTO leaderboard (\n              username,\n              contributorAddress,\n              value,\n              latestContribution,\n              numContributions,\n              valuePerContribution\n            ) VALUES (\n              "' + username + '",\n              "' + contribution['contributor'] + '",\n              (SELECT sum(value) FROM contributions WHERE username = "' + username + '"),\n              (SELECT max(date) FROM contributions WHERE username = "' + username + '"),\n              (SELECT count(*) FROM contributions WHERE username = "' + username + '"),\n              (SELECT sum(value)/count(*) FROM contributions WHERE username = "' + username + '")\n            ) ON DUPLICATE KEY UPDATE\n              value=VALUES(value),\n              latestContribution=VALUES(latestContribution),\n              numContributions=VALUES(numContributions),\n              valuePerContribution=VALUES(valuePerContribution)\n            ;\n          ' });
        }).then(function () {
          // Replace "0x0" with contract address;
          return _this9.query({ queryString: '\n            INSERT INTO leaderboard (\n              username,\n              contributorAddress,\n              value,\n              latestContribution,\n              numContributions,\n              valuePerContribution\n            ) VALUES (\n              "Total",\n              "' + _this9.contractDetails['address'] + '",\n              (SELECT sum(value)+sum(reservedValue) FROM contributions),\n              (SELECT max(date) FROM contributions),\n              (SELECT count(*) FROM contributions),\n              (SELECT (sum(value)+sum(reservedValue))/count(*) FROM contributions)\n            ) ON DUPLICATE KEY UPDATE\n              value=VALUES(value),\n              latestContribution=VALUES(latestContribution),\n              numContributions=VALUES(numContributions),\n              valuePerContribution=VALUES(valuePerContribution)\n            ;\n          '
          });
        }).then(function () {
          return _this9.query({ queryString: '\n          SELECT * FROM leaderboard;\n        ' });
        }).then(function (leaderboard) {
          resolve(leaderboard);
        }).catch(function (error) {
          _this9.handleError({ error: error });
        });
      });
    }
  }, {
    key: 'saveContributionEvent',
    value: function saveContributionEvent(_ref9) {
      var _this10 = this;

      var event = _ref9.event;

      return new _bluebird2.default(function (resolve, reject) {
        var transactionHash = event.transactionHash,
            args = event.args;

        _this10.query({
          queryString: '\n          CREATE TABLE IF NOT EXISTS contributions (\n            txHash          CHARACTER(66) PRIMARY KEY,\n            contributor     CHARACTER(42),\n            username        CHARACTER(42),\n            value           BIGINT NOT NULL DEFAULT 0,\n            reservedValue   BIGINT NOT NULL DEFAULT 0,\n            date            BIGINT NOT NULL DEFAULT 0,\n            rewardType      CHARACTER(42)\n          ) ENGINE = INNODB;\n        '
        }).then(function () {
          return _this10.query({
            queryString: '\n            INSERT INTO contributions (\n              txHash,\n              contributor,\n              username,\n              value,\n              reservedValue,\n              date,\n              rewardType\n            ) VALUES (\n              "' + transactionHash + '",\n              "' + args['contributor'] + '",\n              "' + args['username'] + '",\n              ' + args['value'].toNumber() + ',\n              ' + args['reservedValue'].toNumber() + ',\n              ' + args['date'].toNumber() + ',\n              "' + args['rewardType'] + '"\n            );\n          '
          });
        }).then(function () {
          return _this10.query({
            queryString: '\n            SELECT * FROM contributions WHERE txHash = "' + transactionHash + '";\n          '
          });
        }).then(function (result) {
          resolve(result[0]);
        }).catch(function (error) {
          _this10.handleError({ error: error, method: 'saveContributionEvent' });
        });
      });
    }
  }, {
    key: 'getContractDetails',
    value: function getContractDetails() {
      var _this11 = this;

      return new _bluebird2.default(function (resolve, reject) {
        (0, _bluebird.join)(_this11.contract.name.callAsync(), _this11.contract.symbol.callAsync(), _this11.contract.decimals.callAsync(), _this11.contract.organization.callAsync()).then(function (data) {
          _this11.contractDetails = {
            name: data[0],
            symbol: data[1],
            decimals: data[2],
            organization: data[3],
            address: _this11.contract.address
          };

          resolve({ contractDetails: _this11.contractDetails });
        }).catch(function (error) {
          _this11.handleError({ error: error, method: 'getContractDetails' });
        });
      });
    }
  }, {
    key: 'listen',
    value: function listen() {
      var _this12 = this;

      console.log('GitToken Analytics Listening on Separate Process: ', process.pid);
      process.on('message', function (msg) {
        var _JSON$parse2 = JSON.parse(msg),
            event = _JSON$parse2.event,
            data = _JSON$parse2.data;

        switch (event) {
          case 'configure':
            var web3Provider = data.web3Provider,
                mysqlOpts = data.mysqlOpts,
                contractAddress = data.contractAddress;

            _this12.configure({ web3Provider: web3Provider, mysqlOpts: mysqlOpts, contractAddress: contractAddress, abi: abi }).then(function (configured) {
              process.send(JSON.stringify({ event: event, data: configured, message: 'GitToken Analytics Processor Configured' }));
            });
            break;
          case 'contract_details':
            _this12.getContractDetails().then(function (result) {
              process.send(JSON.stringify({ event: event, data: result, message: 'Contract details retrieved.' }));
            });
            break;
          default:
            process.send(JSON.stringify({
              message: 'Unhandled Analytics Event',
              data: [],
              event: 'error'
            }));
        }
      });
    }
  }, {
    key: 'handleError',
    value: function handleError(_ref10) {
      var error = _ref10.error,
          method = _ref10.method;

      /**
       * TODO Add switch case handler based on error codes, etc.
       * Determine when to send back message to parent process
       */
      console.log('handleError::method', method);
      console.log(error);
    }
  }]);

  return GitTokenAnalytics;
}();

exports.default = GitTokenAnalytics;